---
title: "The Impact of Twin Accounts"
author: 
date: 
output: word_document
---

```{r global_options, echo=FALSE}
knitr::opts_chunk$set(fig.width=4, fig.height=4, 
                      echo=F, warning=FALSE, message=FALSE)
```

```{r load_objects}
load(file="ta.ch.Rdata")
load(file="ta.postmatch21.Rdata")
load(file="ta.postmatch26.Rdata")
load(file="ta.postmatch28.Rdata")
load(file="firstlast.ta.postmatch.byTr21.Rdata")
load(file="firstlast.ta.postmatch.byTr26.Rdata")
load(file="firstlast.ta.postmatch.byTr28.Rdata")

```

`r tablenum<-0`

##Introduction


The credit reports and resulting scores generated by consumer credit credit bureaus are very important to the financial lives of low-income individuals. By design, credit scores affect the ability of consumers to affordably access both the mainstream consumer lending market (credit cards, car loans, etc) and the asset-building opportunities of the home mortgage market.  Over time, credit scores have also taken on an important role in other areas as well: many employers check credit reports as part of their hiring process, and credit scores can affect the cost of other consumer contracts such as cell phones and utilities.

Many organizations that work with low-income clients to improve their finances have focused on building credit as an important component of that work. Credit builder loans have emerged as a strategy used by such organizations as Self-Help Credit Union, Mission Asset Fund, and others. The loans offer participants a chance to register a credit line with on-time payments with the credit bureaus, structured in a way that supports participants in making the payments. Organizations offering credit builder loans have seen significant positive impact on participantsâ€™ credit scores [cite SH and MAB].

Twin Accounts are credit builder loans offered to clients of the Local Initiatives Support Corporation's network of Financial Opportunity Centers and serviced by Justine Peterson, a community development financial institution with expertise in credit builder loans. Twin Accounts consist of a loan of $300 which the client repays in monthly $25 installments over the course of a year. The lender reports the payments to the credit bureaus, building a credit track record for the client. At the close of the loan period, after successfully making a year's worth of on time payments, the client receives the original $300 as well as $300 in match for a total of $600, which is placed on a prepaid credit card in order to continue credit building. By establishing a new active trade account with on-time payments, Twin Accounts are hypothesized to boost existing credit scores and help those who do not have credit scores attain them.

LISC's Financial Opportunity Centers are programs within community-based organizations which offer bundled financial, employment, and income supports coaching to low-income clients. They integrate employment services such as job readiness training, skills training, job placement services, and one-on-one employment coaching with financial coaching. Twin Accounts participants' receipt of FOC services, particularly financial coaching, is key to the model's theory of change. The program model is described more fully in [cite]. 



##This analysis

###Questions

This analysis uses data tracked for Twin Accounts clients and data in LISC's FOC program database to examine the impact of Twin Accounts on participants' credit and other financial outcomes. Questions include:

* How do credit outcomes for participants with completed Twin Accounts compare to similar FOC participants who did not participate in Twin Accounts?
* For clients who are unsuccessful in making Twin Accounts payments, are accounts closed quickly enough to avoid negatively impacting participants' credit?
* What impact does Twin Accounts participation have on individuals' budget and balance sheets (specifically, debt service amounts and loan balances)

###Data sources

As the servicer of the Twin Accounts loans, Justine Peterson tracks Twin Accounts participants' program participation, including information on timing of the loan, prepayments and late payments, accrual of match, and participant's FICO score at loan closing, at 6 months, and at 12 months. In its role as funder & data system provider for the Financial Opportunity Centers, LISC maintains a dataset which includes information on FOC participants' employment, credit, budget, and balance sheets. The present analysis combines the Twin Accounts-specific data with the broader FOC data. The Twin Accounts data used herewas acquired in March 2016 and includes participants with loan closing dates through the end of 2015; the FOC data includes participants enrolled through July 2015. As of March 2016, `r nrow(ta.tracking)` individuals had opened Twin Accounts. Because the FOC dataset ends in July 2015, `r sum(ta.ch$is.ta)` of those participants are found in the FOC program data. Within that set of individuals, the account status as of March 2016 was:

######**Table `r tablenum<-tablenum+1; tablenum`: Twin Accounts Participants by Account Status** 

```{r}
kable(as.data.frame(summary(ta.ch$ta.group[ta.ch$is.ta==T])),col.names = c("Count"))
```


###Who uses Twin Accounts



####Requirements

Eligibility requirements for the Twin Accounts program are designed to target participants who are in a position to make on-time payments on the loan and to benefit from credit building. Program guidelines state that Twin Accounts should be offered to participants whose financial coaching sessions show that they have positive cash flow in their budgets (meaning that their income from employment or other sources is greater than their expenses) and have not had a bankruptcy. Clients with very healthy credit profiles - high scores deriving from robust credit history - are discouraged from opening Twin Accounts because the scope for credit improvement from the account is limited.


####Characteristics of account holders

Twin Accounts participants are similar across demographic categories to the general population of FOC clients in the sites where Twin Accounts have been opened. They have slightly more likely to be white or Hispanic, rather than African-American, and they have slightly higher educational attainment levels.

######**Table `r tablenum<-tablenum+1; tablenum`: Demographics of Twin Accounts and All FOC Clients in TA Sites** 

```{r  Demo_open}
kable(cbind(rbind(
  data.frame(TA=FactorPerc(ta.ch[which(ta.ch$is.ta==T),"Gender"]),All=FactorPerc(ta.ch[which(ta.ch$SITE %in% ta.ch$SITE[which(ta.ch$is.ta==T)]),"Gender"])),
  data.frame(TA=FactorPerc(ta.ch[which(ta.ch$is.ta==T),"RaceEthnicity"]),All=FactorPerc(ta.ch[which(ta.ch$SITE %in% ta.ch$SITE[which(ta.ch$is.ta==T)]),"RaceEthnicity"])),
  data.frame(TA=FactorPerc(ta.ch[which(ta.ch$is.ta==T),"Education1"]),All=FactorPerc(ta.ch[which(ta.ch$SITE %in% ta.ch$SITE[which(ta.ch$is.ta==T)]),"Education1"])),
  data.frame(TA=FactorPerc(ta.ch[which(ta.ch$is.ta==T),"CriminalConvictions"]),All=FactorPerc(ta.ch[which(ta.ch$SITE %in% ta.ch$SITE[which(ta.ch$is.ta==T)]),"CriminalConvictions"])),
  data.frame(TA=FactorPerc(ta.ch[which(ta.ch$is.ta==T),"RecodedMaritalStatus"]),All=FactorPerc(ta.ch[which(ta.ch$SITE %in% ta.ch$SITE[which(ta.ch$is.ta==T)]),"RecodedMaritalStatus"])),
  data.frame(TA=FactorPerc(ta.ch[which(ta.ch$is.ta==T),"LivingArrangement1"]),All=FactorPerc(ta.ch[which(ta.ch$SITE %in% ta.ch$SITE[which(ta.ch$is.ta==T)]),"LivingArrangement1"])),
  AnnualHHIncome=data.frame(TA=rmeanr(ta.ch[which(ta.ch$is.ta==T),"AnnualHHIncome"]),All=rmeanr(ta.ch[which(ta.ch$SITE %in% ta.ch$SITE[which(ta.ch$is.ta==T)]),"AnnualHHIncome"]))
)))
```

More than half of Twin Accounts opened to date have been to participants in Financial Opportunity Centers in Chicago. Smaller numbers of accounts have been opened in 9 other LISC markets.

######**Table `r tablenum<-tablenum+1; tablenum`: Twin Accounts Participants by LISC Market** 

```{r  Sites_open}
ta.ch %>% filter(is.ta==T) %>% group_by(SitesMarkets$LISC.MARKET[match(SITE,SitesMarkets$Short.Name.for.Data.Analysis)]) %>% summarize(Count=sum(is.ta),Perc=sum(is.ta)/sum(ta.ch$is.ta))  %>% data.frame()  %>% kable(digits=c(0,0,2),col.names = c("Market","TA","All"))
```


Slightly more than half (53%) of FOC participants who open Twin Accounts did not have credit scores at the time they open the account. Of the remander, two-thirds had low FICO scores (below 620) and one third have high scores. The average score at account opening for those who had scores was `r round(rmean(ta.ch$ScoreEntry[ta.ch$is.ta==T]),0)`.

######**Table `r tablenum<-tablenum+1; tablenum`: Credit category of TA holders at time of account opening** 
High >=620, Low <620
```{r credit_cat_open}
kable(rbind(Count=table(ta.ch$ta.start.cr.cat[ta.ch$is.ta==T]),
Percent=round(table(ta.ch$ta.start.cr.cat[ta.ch$is.ta==T])/length(ta.ch$ta.start.cr.cat[ta.ch$is.ta==T]),2)))


```


###Impact for participants with completed accounts

The goal of the Twin Accounts product is to allow participants to demonstrate their ability to make regular payments on a loan, building a positive credit history that will increase their credit score if they already have one and allow them to acquire a healthy credit score if they do not. Evidence from the Twin Account FICO scores tracked by Justine Peterson indicates that participants do just that. But there are reasons to think that the individuals who open Twin Accounts might have improved their credit even without this product. Twin Account participants are selected in part because they seem to be in a good position to build credit: they have positive cash flow and scope for improvement. Moreover, Twin Account holders are also participating in financial coaching, working with FOC staff on other credit building strategies. Without a comparison group, it is difficult to attribute the gains seen to the Twin Account itself.

Bringing in the FOC program data helps address this issue Financial Opportunity Centers track credit scores for participants engaged in financial coaching. We can use this data to select a comparison group of FOC participants who did not open Twin Accounts but were similar both demograpically and in entering credit profile to those who did open Twin Accounts. Then we can compare the credit outcomes for the two groups after the Twin Account is completed and beyond, for cases where we have data past the completion of the loan and complete data.

####Matching procedure

To compare the credit outcomes for TA account holders to other FOC participants, we narrow the TA group to participants with completed loans and with data on FICO status and score after the end date of the loan, either from the Justine Peterson data or from the FOC program data. We sampled from FOC program participants to create the match. Before matching, potential comparison group members were screened for the following characteristics:

* Enrolled in Financial Counseling
* Had at least two FICO scores recorded, at least a year apart
* Not TA participants (of any account status)
* Not at Focus Hope or any of the Indianapolis FOCs (these sites offered non-TA credit builder products)
* Not in bankruptcy at enrollment (a criteria for TA eligibility)

The groups were matched on a set of demographic variables (age, race, gender, criminal conviction status,  education level, and annual household income) and on their entering FICO status category, defined as either Unscored, High (above 620) or Low (below 620). Nearest neighbor matching with a ratio of 10:1 was used. This created a treatment group of `r sum(ta.postmatch28$is.ta==T)` completed Twin Accounts holders and `r sum(ta.postmatch28$is.ta==F)` comparison group members. The treatment group is smaller than the full group of Twin Account holders because we are narrowing to participants with completed accounts.

####Characteristics of treatment group and comparison group after match

As expected given the matching procedure, the treatment and comparison group look similar across the demographic characteristics that were used in the match. 

######**Table `r tablenum<-tablenum+1; tablenum`: Post-match Demographics** 

```{r  Demo_postmatch}
kable(cbind(rbind(
  data.frame(TA=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==T),"Gender"]),Comparison=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==F),"Gender"])),
  data.frame(TA=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==T),"RaceEthnicity"]),Comparison=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==F),"RaceEthnicity"])),
  data.frame(TA=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==T),"Education1"]),Comparison=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==F),"Education1"])),
  data.frame(TA=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==T),"CriminalConvictions"]),Comparison=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==F),"CriminalConvictions"])),
  data.frame(TA=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==T),"RecodedMaritalStatus"]),Comparison=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==F),"RecodedMaritalStatus"])),
  data.frame(TA=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==T),"LivingArrangement1"]),Comparison=FactorPerc(ta.postmatch28[which(ta.postmatch28$is.ta==F),"LivingArrangement1"])),
  AnnualHHIncome=data.frame(TA=rmeanr(ta.postmatch28[which(ta.postmatch28$is.ta==T),"AnnualHHIncome"]),Comparison=rmeanr(ta.postmatch28[which(ta.postmatch28$is.ta==F),"AnnualHHIncome"]))
)))
```


#####Outcomes

Comparing Twin Accounts holders who completed their accounts to individuals with similar credit profiles who did not participate in Twin Accounts, we find that TA holders had double the average FICO gain and were more than twice as likely to gain a score and keep it (a virtual guarantee for TA holders, versus only `r percent(mean(ta.postmatch28$taincl.BecameScored[!ta.postmatch28$is.ta],na.rm = T),0)` of the comparison group.) The FICO difference remains when controlling for total time spent receiving FOC services, and when controlling for FC time spent (via a linear regression model).

The average score for Twin Accounts participants who acquired scores after opening the Twin Account was `r round(mean(ta.postmatch28$taincl.LastFICOScore[ta.postmatch28$taincl.BecameScored&ta.postmatch28$is.ta],na.rm = T),0)`; average score for those attaining scores in the comparison group was `r round(mean(ta.postmatch28$taincl.LastFICOScore[ta.postmatch28$taincl.BecameScored&!ta.postmatch28$is.ta],na.rm = T),0)`. The average FICO change for those TA holders with scores at both start and end was `r round(mean(ta.postmatch28$taincl.FICOCh[ta.postmatch28$is.ta],na.rm = T),0)` points, `r round(mean(ta.postmatch28$taincl.FICOCh[ta.postmatch28$is.ta],na.rm = T)-mean(ta.postmatch28$taincl.FICOCh[!ta.postmatch28$is.ta],na.rm = T),0)` points higher than the comparison group.

######**Table `r tablenum<-tablenum+1; tablenum`: FICO Change summary, TA Completers and Comparison Group** 

```{r}
kable(firstlast.ta.postmatch.byTr28,digits = 2)
```

Looking at the change in credit categories, we see similar outcomes; the percentage of individuals in each credit category is very similr at program start (because the two groups were matched on this data point):

######**Table `r tablenum<-tablenum+1; tablenum`: Starting Credit Categories, TA and Comparison** 

```{r}
kable(cbind(c("Comparison","TA"),aggregate(taincl.First.cr.cat~is.ta,ta.postmatch28,FUN=FactorPerc)[[2]]))

```

But after completion of the Twin Account (for the treatment group) or the passage of at least 12 months (for the comparison group), the credit category groupings are quite different:

######**Table `r tablenum<-tablenum+1; tablenum`: Ending Credit Categories, TA and Comparison** 

```{r}
kable(cbind(c("Comparison","TA"),aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch28,FUN=FactorPerc)[[2]]))
```

Nearly all of the Twin Accounts holders who started without scores gained a score, and 75% gained a high score. In the comparison group, 64% of those who stared without a score remained unscored, and only 13% reached a high score.

######**Table `r tablenum<-tablenum+1; tablenum`: Ending Credit Categories for Completers who Started Unscored** 

```{r}
kable(cbind(c("Comparison","TA"),aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Unscored"),],FUN=FactorPerc)[[2]],N=aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Unscored"),],FUN=countN)[[2]]))
cat(paste0("p=",round(with(ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Unscored"),],chisq.test(taincl.Last.cr.cat,is.ta))$p.value,2)))
```

Of those who started with low scores, most in both groups kept their scores. In the Twin Accounts group, 35% attained a high score, versus 23% in the comparison group.

######**Table `r tablenum<-tablenum+1; tablenum`: Ending Credit Categories for Completers who Started with Low Scores**

```{r}
kable(cbind(c("Comparison","TA"),aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Lo"),],FUN=FactorPerc)[[2]],N=aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Lo"),],FUN=countN)[[2]]))
cat(paste0("p=",round(with(ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Lo"),],chisq.test(taincl.Last.cr.cat,is.ta))$p.value,2)))
```

Individuals starting their Twin Accounts with high scores were the smallest subcategory; while they were more likely than the comparison group to remain in the high category, the comparison is not statistically significant.

######**Table `r tablenum<-tablenum+1; tablenum`: Ending Credit Categories for Completers who Started with High Scores**

```{r}
kable(cbind(c("Comparison","TA"),aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Hi"),],FUN=FactorPerc)[[2]],N=aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Hi"),],FUN=countN)[[2]]))
cat(paste0("p=",round(with(ta.postmatch28[which(ta.postmatch28$taincl.First.cr.cat=="Hi"),],chisq.test(taincl.Last.cr.cat,is.ta))$p.value,2)))
```



####Avoiding negative impact for participants with closed accounts

The analysis above provides evidence that clients who successfully complete the Twin Account program show positive credit outcomes. However, not all clients are able to keep up with their Twin Accounts payments. The program is designed to allow financial counselors and Twin Accounts managers to work with clients to close their loans early if the participant is unable to keep up with payments, with the goal of avoiding a negative hit to the participant's credit. For clients who are unsuccessful in making Twin Accounts payments, are accounts closed quickly enough to avoid negatively impacting participants' credit?

To find out, we can create a new matched group for the TA participants who closed their accounts early, maintaining all other match criteria but selecting a match group that looks most similar to those who closed accounts early. We find that there is no significant difference between the FICO scores of TA participants who started and ended with credit scores and those in the comparison group. The comparison group had a higher percentage of individuals ending with credit scores, but this was not because they were more likely to become scored; the individuals who had Twin Accounts that were closed early were actually more likely to acquire a score if they started without one. At the same time, individuals with early closing Twin Accounts who started with low scores were slightly more likely to lose their scores. Generally the evidence supports the hypothesis that their accounts were closed early enough to avoid negative impact on their credit.

######**Table `r tablenum<-tablenum+1; tablenum`: FICO Change summary, TA Early Closers and Comparison Group** 

```{r}
#(21 is the postmatch dataset that uses closed early as its ind var) 
kable(firstlast.ta.postmatch.byTr21,digits = 2)
```


######**Table `r tablenum<-tablenum+1; tablenum`: Ending Credit Categories for Early Closers who Started Unscored** 

```{r}
kable(cbind(c("Comparison","TA Early Close"),aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch21[which(ta.postmatch21$taincl.First.cr.cat=="Unscored"),],FUN=FactorPerc)[[2]]))
```

######**Table `r tablenum<-tablenum+1; tablenum`: Ending Credit Categories for Early Closers who Started with Low Scores** 

```{r}
kable(cbind(c("Comparison","TA Early Close"),aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch21[which(ta.postmatch21$taincl.First.cr.cat=="Lo"),],FUN=FactorPerc)[[2]]))
```

######**Table `r tablenum<-tablenum+1; tablenum`: Ending Credit Categories for Early Closers who Started with High Scores** 

```{r}
kable(cbind(c("Comparison","TA Early Close"),aggregate(taincl.Last.cr.cat~is.ta,ta.postmatch21[which(ta.postmatch21$taincl.First.cr.cat=="Hi"),],FUN=FactorPerc)[[2]]))
```



####Implications for participants' program engagement, budgets, and balance sheets

#####Program engagement and retention
Previous research has shown that FOC clients who stay engaged with FOC services have better program outcomes. FOC managers hope that beyond helping participants build their credit, the Twin Account can act as a client retention tool, providing the participant with an incentive to stay engaged in the FOC's financial & employment coaching. To see if such an impact was observable in the data, we created a new matched comparison group, this time matching on the demographic characteristics, entering credit category, and timing of program enrollment. In this comparison, we compare all TA holders, regardless of account status, to FOC clients who were enrolled in financial counseling but did not open Twin Accounts.

We find that the Twin Accounts holders do engage in services at higher levels and for longer periods of time: Average total time spent receiving program services is nearly doubled, and the elapsed time between first and last program contact is increased dramatically as well. The effect is clear both in financial counseling, where the coaching is a component of Twin Accounts participation, and in employment counseling, where coaching takeup is more client-directed. However, none of our matching variables takes into account client motivation, which is likely to be a driver both of Twin Accounts participation and program participation more broadly.

######**Table `r tablenum<-tablenum+1; tablenum`: Average Time Spent (Minutes) and Days Elapsed** 

```{r}
kable(cbind(Group=c("Comparison","TA"),aggregate(x = ta.postmatch26[,c("TimeSpentSum","TimeSpentFC","TimeSpentEC","DaysElapsed","DaysElapsedFC","DaysElapsedEC")],by = list(ta.postmatch26$is.ta),FUN = rmeanr)[,2:7]),digits=0)
cat("p<.00 for all comparisons")

```

Receipt of bundled services - that is, engaging with, at minimum, financial coaching and employment coaching - has also been associated with better outcomes for FOC participants. Twin Accounts participants are not more likely than the comparison group to be enrolled in bundled services. Instead, they are more likely to be receiving financial coaching only. This is particularly true for participants who complete the Twin Account. Participants who close early are more likely to enrolled in all three FOC programs.

######**Table `r tablenum<-tablenum+1; tablenum`: Program Enrollment Rates** 

```{r bundling}
#all TA
cat("All TA Holders")
kable(cbind(c("Comparison","TA"),aggregate(ProgramMix~is.ta,ta.postmatch26,FUN = function(x){round(summary(x)/sum(summary(x)),2)})[[2]][,c(2,4,6,7)]))
#completers
cat("TA Completers")
kable(cbind(c("Comparison","TA Completers"),aggregate(ProgramMix~is.ta,ta.postmatch28,FUN = function(x){round(summary(x)/sum(summary(x)),2)})[[2]][,c(2,4,6,7)]))

#early closers
cat("TA Early Closers")
kable(cbind(c("Comparison","TA Early Closers"),aggregate(ProgramMix~is.ta,ta.postmatch21,FUN = function(x){round(summary(x)/sum(summary(x)),2)})[[2]][,c(2,4,6,7)]))

```



##Conclusion
This analysis provides compelling quasi-experimental evidence that LISC's Twin Accounts product helps participants acquire credit scores and increase their scores more than similar individuals who did not receive Twin Accounts. Nearly all of the Twin Accounts holders who started without scores gained a score, and 75% gained a high score. The average score increase for those who started and ended with a score was 35 points, 25 points higher than the comparison group. Most Twin Accounts participants are successful in making on time payments and completing their loans, but for those who are not, evidence indicates that participation in Twin Accounts does not injure clients' credit relative to a comparison group. 

Twin Accounts are only one strategy in the arsenal of financial coaching and employment services deployed by Financial Opportunity Centers. Participants' access to skill building opportunities, quality jobs, and safe and affordable housing and other basic needs are all important components of financial success. But credit building is an important piece of the puzzle, and Twin Accounts help participants set that piece in place. 

